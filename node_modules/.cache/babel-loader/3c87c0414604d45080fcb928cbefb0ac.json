{"ast":null,"code":"import _classCallCheck from\"C:/Users/marya/paltimsalestool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/marya/paltimsalestool/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/marya/paltimsalestool/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/marya/paltimsalestool/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/marya/paltimsalestool/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withRouter}from\"react-router-dom\";import i18next from\"i18next\";import{withTranslation}from\"react-i18next\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Pages=/*#__PURE__*/function(_Component){_inherits(Pages,_Component);var _super=_createSuper(Pages);function Pages(props){var _this;_classCallCheck(this,Pages);_this=_super.call(this,props);_this.state={url:\"https://localhost/phprest/paltimapi.php\",image:\"../images/de.jpg\",appcode:\"\",api:\"d\",src:\"https://marianadascalitei.dev.ascensys.ro/paltimsalestool/api/apartmentImagePlans/\"};_this.callApi=_this.callApi.bind(_assertThisInitialized(_this));return _this;}_createClass(Pages,[{key:\"componentDidMount\",value:function componentDidMount(){this.callApi();}},{key:\"callApi\",value:function callApi(){var _this2=this;var id=this.props.match.params.id;id=id.slice(1,id.length);this.setState({appcode:id.slice(0,id.length)});fetch(this.state.url,{method:\"POST\",body:JSON.stringify({type:\"id\",id:id}),headers:{\"Content-type\":\"application/json; charset=UTF-8\"}}).then(function(res){return res.json();}).then(function(res){return _this2.setState({api:res});});}},{key:\"downloadPlan\",value:function downloadPlan(){window.location.href=\"https://marianadascalitei.dev.ascensys.ro/paltimsalestool/api/download.php?da=\"+this.state.appcode;}},{key:\"changeLanguageRo\",value:function changeLanguageRo(){this.setState({language:\"ro\"},function(){i18next.changeLanguage(\"ro\");});}},{key:\"changeLanguageEn\",value:function changeLanguageEn(){this.setState({language:\"en\"},function(){i18next.changeLanguage(\"en\");});}},{key:\"goBack\",value:function goBack(){window.history.back();}},{key:\"render\",value:function render(){if(this.state.api!==\"d\"&&this.state.api.length!==0){console.log(this.state.api.length);var src=this.state.src+this.state.appcode+\".png\";var t=this.props.t;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.changeLanguageEn.bind(this),children:\"EN\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.changeLanguageRo.bind(this),children:\"RO\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:\"105%\",marginTop:\"-30px\",backgroundColor:\"white\",marginBottom:\"30px\",outline:\"none\"},onClick:this.goBack.bind(this),children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-times fa-3x\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"img\",{src:src,width:\"800px\",height:\"400px\",style:{marginLeft:\"-100px\",marginTop:\"20px\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-4\",children:[/*#__PURE__*/_jsxs(\"table\",{class:\"table table-striped\",style:{maxWidth:\"500px;\",marginLeft:\"100px\",marginTop:\"0px\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"40%\"}})]})}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[t('specific_building'),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\" \",/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{children:this.state.api[0].BUILDING})})]}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[t('floor'),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\" \",/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{children:this.state.api[0].LEVEL})})]}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[t('rooms'),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\" \",/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{children:this.state.api[0].ROOMS})})]}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[t('bathrooms'),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\" \",/*#__PURE__*/_jsx(\"td\",{children:this.state.api[0].BATHROOMS})]}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[t('surface'),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{children:this.state.api[0].SURFACE}),\" \",t('sqm')]})]}),\" \",/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[t('terrace'),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{children:this.state.api[0].TERRACE}),\" \",t('sqm')]})]})]}),/*#__PURE__*/_jsx(\"button\",{style:{width:\"200px\",height:\"50px\",borderRadius:\"10px\",marginTop:\"20px\",marginLeft:\"190px\"},onClick:this.downloadPlan.bind(this),children:\"Download Plan\"})]})]})]})});}else{return/*#__PURE__*/_jsx(\"div\",{});}}}]);return Pages;}(Component);export default withTranslation()(withRouter(Pages));","map":{"version":3,"sources":["C:/Users/marya/paltimsalestool/src/Pages.js"],"names":["React","Component","withRouter","i18next","withTranslation","Pages","props","state","url","image","appcode","api","src","callApi","bind","id","match","params","slice","length","setState","fetch","method","body","JSON","stringify","type","headers","then","res","json","window","location","href","language","changeLanguage","history","back","console","log","t","changeLanguageEn","changeLanguageRo","marginLeft","marginTop","backgroundColor","marginBottom","outline","goBack","maxWidth","width","BUILDING","LEVEL","ROOMS","BATHROOMS","SURFACE","TERRACE","height","borderRadius","downloadPlan"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport i18next from \"i18next\";\r\nimport { withTranslation } from \"react-i18next\";\r\n\r\nclass Pages extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      url: \"https://localhost/phprest/paltimapi.php\",\r\n      image: \"../images/de.jpg\",\r\n      appcode: \"\",\r\n      api: \"d\",\r\n      src: \"https://marianadascalitei.dev.ascensys.ro/paltimsalestool/api/apartmentImagePlans/\",\r\n    };\r\n    this.callApi = this.callApi.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.callApi();\r\n  }\r\n  callApi() {\r\n    let id = this.props.match.params.id;\r\n    id = id.slice(1, id.length);\r\n    this.setState({ appcode: id.slice(0, id.length) });\r\n    fetch(this.state.url, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        type: \"id\",\r\n        id: id,\r\n      }),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => this.setState({ api: res }));\r\n  }\r\n  downloadPlan() {\r\n    window.location.href =\r\n      \"https://marianadascalitei.dev.ascensys.ro/paltimsalestool/api/download.php?da=\" + this.state.appcode;\r\n  }\r\n  changeLanguageRo() {\r\n    this.setState({ language: \"ro\" }, () => {\r\n      i18next.changeLanguage(\"ro\");\r\n    });\r\n  }\r\n  changeLanguageEn() {\r\n    this.setState({ language: \"en\" }, () => {\r\n      i18next.changeLanguage(\"en\");\r\n    });\r\n  }\r\n  goBack(){\r\n    window.history.back();\r\n  }\r\n  render() {\r\n    if (this.state.api !== \"d\" && this.state.api.length !== 0) {\r\n      console.log(this.state.api.length);\r\n      let src = this.state.src + this.state.appcode + \".png\";\r\n      const { t } = this.props;\r\n      return (\r\n        <div>\r\n          <div className=\"container\">\r\n            <button onClick={this.changeLanguageEn.bind(this)}>EN</button>\r\n            <button onClick={this.changeLanguageRo.bind(this)}>RO</button>\r\n            <button style={{ marginLeft: \"105%\", marginTop: \"-30px\", backgroundColor: \"white\", marginBottom: \"30px\", outline: \"none\"}} onClick={this.goBack.bind(this)}>\r\n            <i\r\n              class=\"fas fa-times fa-3x\"\r\n              \r\n            ></i>\r\n            </button>\r\n            <div className=\"row\">\r\n             \r\n                <img src={src} width=\"800px\" height=\"400px\" style={{ marginLeft: \"-100px\", marginTop:\"20px\" }} />\r\n              \r\n              <div className=\"col-4\">\r\n                <table\r\n                  class=\"table table-striped\"\r\n                  style={{ maxWidth: \"500px;\", marginLeft: \"100px\", marginTop: \"0px\"  }}>\r\n                  <thead>\r\n                    <tr>\r\n                      <th></th>\r\n                      <th style={{width: \"40%\"}}></th>\r\n                    </tr>\r\n                  </thead>{\" \"}\r\n                  <tr>\r\n                    <td>{t('specific_building')}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>{\" \"}\r\n                    <td>\r\n                      <span>{this.state.api[0].BUILDING}</span>\r\n                    </td>\r\n                  </tr>{\" \"}\r\n                  <tr>\r\n                    <td>{t('floor')}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>{\" \"}\r\n                    <td>\r\n                      <span>{this.state.api[0].LEVEL}</span> \r\n                    </td>\r\n                  </tr>{\" \"}\r\n                  <tr>\r\n                    <td>{t('rooms')}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>{\" \"}\r\n                    <td>\r\n                      <span>{this.state.api[0].ROOMS}</span>\r\n                    </td>\r\n                  </tr>{\" \"}\r\n                  <tr>\r\n                    <td>{t('bathrooms')}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td> <td>{this.state.api[0].BATHROOMS}</td>\r\n                  </tr>{\" \"}\r\n                  <tr>\r\n                  <td>{t('surface')}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>{\" \"}\r\n                    <td>\r\n                      <span>{this.state.api[0].SURFACE}</span> {t('sqm')}\r\n                    </td>\r\n                  </tr>{\" \"}\r\n                  <tr>\r\n                    <td>{t('terrace')}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>{\" \"}\r\n                    <td>\r\n                      <span>{this.state.api[0].TERRACE}</span> {t('sqm')}\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n               \r\n                <button\r\n                  style={{\r\n                    width: \"200px\",\r\n                    height: \"50px\",\r\n                    borderRadius: \"10px\",\r\n                    marginTop: \"20px\",\r\n                    marginLeft: \"190px\"\r\n                  }}\r\n                  onClick={this.downloadPlan.bind(this)}\r\n                >\r\n                  Download Plan\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div></div>;\r\n    }\r\n  }\r\n}\r\nexport default withTranslation()(withRouter(Pages));\r\n"]},"metadata":{},"sourceType":"module"}